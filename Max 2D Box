    #include<bits/stdc++.h>
    int freq[200001]={0};
    //vector<vector<int>>ar(100001,vector<int>(100001,0));
    long long ar[1001][1001];
    int main()
    {
        //JUDGE_MOTHER_FATHER();
        //ONE_PEICE_3MK
        int t = 1;
      //   cin >> t;
        while (t--)
        {
            int n,m,x,y;cin>>n>>m>>x>>y;
            //int pre[n+1][m+1]={0};
            for (int i=1;i<=n;i++)
            {
                for (int j=1;j<=m;j++)
                {
                    cin>>ar[i][j];
                }
            }
            for (int i=1;i<=n;i++)
            {
                for (int j=1;j<=m;j++)
                {
                    ar[i][j]+=ar[i][j-1];
                }
            }
     
            for (int i=1;i<=n;i++)
            {
                for (int j=1;j<=m;j++)
                {
                    ar[i][j]+=ar[i-1][j];
                }
            }
           long long ans=LONG_LONG_MIN;
            for (int i=x;i<=n;i++)
            {
                for(int j=y;j<=m;j++)
                {
                    ans=max(ans,(ar[i][j]-ar[i][j-y]-ar[i-x][j]+ar[i-x][j-y]));
                }
            }
            cout<<ans;
        }
    }
     
